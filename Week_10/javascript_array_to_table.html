<body>
<script src="pretty_json.js"></script>
<script>
    var original = [
        {id: 123, name: "Kevin", dob: "1/1/2011"},
        {id: 456, name: "Bob", dob: "2/2/2012"}
    ];

    var desired =
            "<table>" +
            "<tr><td>id</td><td>name</td><td>dob</td></tr>" +
            "<tr><td>123</td><td>Kevin</td><td>1/1/2011</td></tr>" +
            "<tr><td>456</td><td>Bob</td><td>2/2/2012</td></tr>" +
            "</table>";


    function arrayToTableStrings(inputArray) {

        var outputTable = "<table>\n";

        //headings
        outputTable += "<tr>";
        var properties = Object.keys(inputArray[0]);
        for (var p = 0; p < properties.length; p++) {
            var property_name = properties[p];
            outputTable += "<th>";
            outputTable += property_name;
            outputTable += "</th>";
        }
        outputTable += "</tr>\n";

        //Loop through list indexes
        for (var i = 0; i < inputArray.length; i++) {
            //pull one item off using index
            var item = inputArray[i];
            outputTable += "<tr>";

            // using id as the key;
            // add a clone of the item to output object.
            for (var p = 0; p < properties.length; p++) {
                var property_name = properties[p];
                outputTable += "<td>";
                outputTable += item[property_name];
                outputTable += "</td>";

            }
            outputTable += "</tr>\n";

        }
        outputTable += "</table>\n";

        return outputTable;
    }

    function arrayToTableElements(inputArray) {

        var outputTable = document.createElement("table");

        //headings
        var tr = document.createElement("tr");
        var properties = Object.keys(inputArray[0]);
        for (var p = 0; p < properties.length; p++) {
            var property_name = properties[p];
            var th = document.createElement("th");
            th.innerHTML = property_name;
            tr.appendChild(th);
        }
        outputTable.appendChild(tr);

        //Loop through list indexes
        for (var i = 0; i < inputArray.length; i++) {
            //pull one item off using index
            var item = inputArray[i];

            var tr = document.createElement("tr");
            var properties = Object.keys(inputArray[0]);
            for (var p = 0; p < properties.length; p++) {
                var property_name = properties[p];
                var td = document.createElement("td");
                td.innerHTML = item[property_name];
                tr.appendChild(td);
            }
            outputTable.appendChild(tr);

        }

        return (outputTable);
    }

    function init() {
        var resultString = arrayToTableStrings(original);
        resultString = resultString.replace(/</g, "&lt;");
        resultString = resultString.replace(/>/g, "&gt;");
        document.body.innerHTML += "<pre>" + resultString + "</pre>";

        var resultTable = arrayToTableElements(original);
        document.body.appendChild(resultTable);

    }
    document.addEventListener("DOMContentLoaded", init);
</script>
</body>